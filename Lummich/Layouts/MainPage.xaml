<phone:PhoneApplicationPage
    x:Class="Lummich.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:phone="clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone"
    xmlns:shell="clr-namespace:Microsoft.Phone.Shell;assembly=Microsoft.Phone"
    xmlns:toolkit="clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone.Controls.Toolkit"
        xmlns:local="clr-namespace:Lummich"
    SupportedOrientations="Portrait"
    Orientation="Portrait"
    shell:SystemTray.IsVisible="False">

    <Grid x:Name="LayoutRoot" Background="Transparent">

        <phone:Panorama Title="lummich">

            <phone:Panorama.Background>
                <ImageBrush ImageSource="/Assets/PanoramaBackgroundCloudDarkScaled.jpg"/>
            </phone:Panorama.Background>

            <!-- ========================= -->
            <!--        PHOTO ROLL         -->
            <!-- ========================= -->
            <phone:PanoramaItem Header="fotky" x:Name="PhotosPanoramaItem">
                <Grid  Margin="0,-40,0,0">
                    <TextBlock Text="Nebyly nalezeny žádné média. Ujistěte se že v nastavení aplikace máte přidané složky ke skenování."
                           TextWrapping="Wrap"
                           x:Name="NoMediaText"
                           Visibility="Collapsed" FontSize="24" Padding="10, 10, 10, 10"/>
                    <Button x:Name="RefreshButton" Visibility="Collapsed" Width="200" Height="100" VerticalAlignment="Top" Padding="10,5,10,6" Margin="0,100,0,0" FontFamily="Portable User Interface" Click="RefreshButton_Click">obnovit</Button>
                    <ScrollViewer x:Name="PhotoScroll" Margin="-2,0,-24,0">
                        <StackPanel x:Name="PhotoSectionsPanel"
                                    ManipulationStarted="Scroll_ManipulationStarted"
                                    ManipulationDelta="Scroll_ManipulationDelta"
                                    ManipulationCompleted="Scroll_ManipulationCompleted"
                                    Margin="12,0,12,0"
                        />
                    </ScrollViewer>
                </Grid>

            </phone:PanoramaItem>




            <!-- ========================= -->
            <!--         UPLOADER          -->
            <!-- ========================= -->
            <phone:PanoramaItem Header="nahrávání" x:Name="UploadPanoramaItem">
                <ScrollViewer Margin="0,-40,0,0">
                    <StackPanel Margin="0">

                        <TextBlock Text="aktuální endpoint:" Margin="0,10,0,0"  FontSize="25" x:Name="CurrentEndpointLabel"/>
                        <TextBlock Text="http://photos.example.com" x:Name="CurrentEndpointText" FontSize="15"/>

                        <TextBlock Text="aktuální soubor:" Margin="0,10,0,0"  FontSize="24" x:Name="CurrentFileLabel"/>
                        <TextBlock Text="Camera Roll/WP_20260203_18_23_22_Pro__highres.jpg " x:Name="CurrentFileText" FontSize="15"/>
                        <TextBlock Text="MB zbývá:" FontSize="18" x:Name="CurrentFileMbRemainingLabel"/>
                        <TextBlock Text="0% 0.00KiB / 0.00MiB" x:Name="CurrentFileProgressText" FontSize="15"/>
                        <ProgressBar x:Name="CurrentFileProgress" Height="20" Minimum="0" Maximum="100"/>

                        <TextBlock Text="celkový průběh:" Margin="0,10,0,0" FontSize="24" x:Name="TotalProgressLabel"/>
                        <TextBlock Text="soubory zbývá:" FontSize="18" x:Name="FilesRemainingLabel"/>
                        <TextBlock Text="0 / 0" x:Name="FilesRemainingText" FontSize="15"/>
                        <TextBlock Text="MB zbývá:" FontSize="18" x:Name="TotalMbRemainingLabel"/>
                        <TextBlock Text="0% 0.00KiB / 0.00MiB" x:Name="TotalProgressText" FontSize="15"/>
                        <ProgressBar x:Name="TotalProgress" Height="20" Minimum="0" Maximum="100"/>

                        <Button Content="spustit" Margin="0,36,0,0" x:Name="StartButton" FontFamily="Portable User Interface" Click="StartButton_Click"/>

                    </StackPanel>
                </ScrollViewer>
            </phone:PanoramaItem>

            <!-- ========================= -->
            <!--           STATS           -->
            <!-- ========================= -->
            <phone:PanoramaItem Header="statistiky" x:Name="StatsPanoramaItem">
                <ScrollViewer  Margin="0,-40,0,0">
                    <StackPanel Margin="24,0,24,24">

                        <TextBlock Text="statistiky"
                                   Style="{StaticResource PhoneTextLargeStyle}" x:Name="StatisticsTitle" />

                        <TextBlock Text="obrázky v telefonu:" Margin="0,24,0,0" x:Name="LocalPhotosLabel"/>
                        <TextBlock Text="0" x:Name="LocalPhotosCount"/>

                        <TextBlock Text="videa v telefonu:" Margin="0,24,0,0" x:Name="LocalVideosLabel"/>
                        <TextBlock Text="0" x:Name="LocalVideosCount"/>

                        <TextBlock Text="nahráno na server:" Margin="0,24,0,0" x:Name="UploadedToServerLabel"/>
                        <TextBlock Text="0" x:Name="UploadedCount"/>

                        <TextBlock Text="celková velikost dat v telefonu:" Margin="0,24,0,0" x:Name="TotalLocalDataSizeLabel"/>
                        <TextBlock Text="0 MB" x:Name="LocalDataSize"/>
                        
                        <TextBlock Text="využití disku serveru:" Margin="0,24,0,0" x:Name="ServerDiskUsageLabel"/>
                        <TextBlock Text="0 GiB" x:Name="ServerDataSize"/>

                    </StackPanel>
                </ScrollViewer>
            </phone:PanoramaItem>

            <!-- ========================= -->
            <!--         SETTINGS          -->
            <!-- ========================= -->
            <phone:PanoramaItem Header="nastavení" x:Name="SettingsPanoramaItem">

                <phone:Pivot Margin="0,-60,-30,0">

                        <!-- LOGIN -->
                        <phone:PivotItem Header="přihlášení" x:Name="LoginPivotItem" Margin="12,12,12,0">
                            <StackPanel Margin="24,0,24,0">
                                <TextBlock Text="email" FontSize="24" x:Name="EmailLabel"/>
                                <TextBox x:Name="EmailBox" />

                                <TextBlock Text="heslo" Margin="0" FontSize="24" x:Name="PasswordLabel"/>
                                <Grid>
                                    <PasswordBox x:Name="PasswordBox" Width="400" />
                                    <TextBox x:Name="PasswordTextBox" Width="400" Visibility="Collapsed" />
                                </Grid>
                                <CheckBox x:Name="ShowPasswordCheckBox" Content="zobrazit heslo" Margin="0,-8,0,0" Checked="ShowPasswordCheckBox_Checked" Unchecked="ShowPasswordCheckBox_Unchecked" FontFamily="Portable User Interface" />
                                <Button Content="otestovat připojení" Width="160" Margin="0,24,0,0" Click="NetTest_Click" x:Name="TestConnectionButton"/>
                            </StackPanel>
                        </phone:PivotItem>

                        <!-- SERVERS -->
                    <phone:PivotItem Header="servery" x:Name="ServersPivotItem" Margin="12,12,12,0">
                            <ScrollViewer VerticalScrollBarVisibility="Auto">
                                <StackPanel Margin="24,0,24,0" x:Name="ServerSettingsPanel">
                                    <TextBlock Text="chytré Wi-Fi připojení"
                                               Style="{StaticResource PhoneTextLargeStyle}" Margin="0,0,-12,0" x:Name="SmartWifiTitle" />

                                    <TextBlock Text="internetová adresa serveru:" Margin="0,10,0,0" FontSize="24" x:Name="PublicServerAddressLabel"/>
                                    <TextBox x:Name="GlobalDomainBox" Width="400" Margin="0,4,0,0"/>

                                    <TextBlock Text="lokální IP adresa serveru:" Margin="0,10,0,0" FontSize="24" x:Name="LocalServerIpLabel"/>
                                    <TextBox x:Name="LocalIpBox" Width="400" Margin="0,4,0,0"/>

                                    <TextBlock Text="SSID pro lokální připojení:" Margin="0,10,0,0" FontSize="24" x:Name="LocalSsidLabel"/>
                                    <StackPanel Orientation="Vertical" x:Name="SSIDListPanel">
                                        <!-- Dynamicky generované inputy pro SSID -->
                                    </StackPanel>
                                    <Button Content="přidat SSID" x:Name="AddSSIDButton" Width="180" Margin="0,8,0,0" Click="AddSSIDButton_Click"/>
                                    <CheckBox x:Name="IgnoreSslErrorsCheckBox" Content="povolit neplatný SSL" Margin="0,24,0,0" FontFamily="Portable User Interface"/>

                                    <Button Content="uložit" x:Name="SaveServerSettingsButton" Width="160" Margin="0,24,0,0" Click="SaveServerSettingsButton_Click" Visibility="Collapsed"/>
                                </StackPanel>
                            </ScrollViewer>
                        </phone:PivotItem>

                        <!-- DIRECTORIES -->
                    <phone:PivotItem Header="adresáře" x:Name="DirectoriesPivotItem" Margin="12,40,12,0">
                            <Grid Margin="24,0,24,0">

                                <Grid Margin="0,-34,0,0">
                                    <!-- Folder List Panel -->
                                <StackPanel x:Name="FolderListPanel" HorizontalAlignment="Stretch" VerticalAlignment="Top" Visibility="Visible">
                                        <TextBlock Text="složky ke skenování"
                                                   Style="{StaticResource PhoneTextLargeStyle}" x:Name="FoldersToScanTitle" />
                                        <ListBox x:Name="FolderList" Margin="0,20,0,0">
                                            <ListBox.ItemTemplate>
                                                <DataTemplate>
                                                    <StackPanel Orientation="Horizontal">
                                                        <TextBlock Text="{Binding}" Width="300"/>
                                                        <Button Content="X"
                                                                Tag="{Binding}"
                                                                Click="RemoveFolder_Click"/>
                                                    </StackPanel>
                                                </DataTemplate>
                                            </ListBox.ItemTemplate>
                                        </ListBox>
                                        <Button Content="přidat složku"
                                                Margin="0,24,0,0"
                                                Click="AddFolder_Click" x:Name="AddFolderButton"/>
                                    </StackPanel>
                                    <!-- Folder Picker Panel -->
                                    <StackPanel x:Name="FolderPickerPanel" HorizontalAlignment="Stretch" VerticalAlignment="Top" Visibility="Collapsed">
                                        <TextBlock Text="vyberte složky"
                                                   FontSize="32"
                                                   Margin="0,0,0,20" x:Name="SelectFoldersTitle"/>
                                        <ListBox x:Name="FolderPickerList" MaxHeight="250">
                                            <ListBox.ItemTemplate>
                                                <DataTemplate>
                                                    <CheckBox Content="{Binding}" Tag="{Binding}"/>
                                                </DataTemplate>
                                            </ListBox.ItemTemplate>
                                        </ListBox>
                                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
                                            <Button Content="zrušit" Margin="0,0,20,0" Click="CancelFolderPicker_Click" x:Name="CancelButton"/>
                                            <Button Content="OK" Click="ConfirmFolderPicker_Click" x:Name="OkButton"/>
                                        </StackPanel>
                                    </StackPanel>
                                </Grid>

                            </Grid>
                        </phone:PivotItem>


                        <!-- MORE -->
                        <phone:PivotItem Header="jiné" x:Name="OtherPivotItem" Margin="12,12,12,0">
                            <StackPanel Margin="0,0,0,0">
                                <TextBlock Text="počet fotek na řádek (2-6):" Margin="0,0,0,0" FontSize="24" x:Name="PhotosPerRowLabel"/>
                                <TextBox x:Name="PhotosPerRowBox" Width="80" Margin="0, -5, 0, 0" Height="65" Text="4" InputScope="Number" TextChanged="PhotosPerRowBox_TextChanged" HorizontalAlignment="Left"/>
                                <TextBlock x:Name="DeleteScanCacheText" Text="Vymazat cache skenu" Margin="0,0,0,0" FontSize="24"/>
                                <Button Content="vymazat" Margin="0, -5, 0, 0" Width="160" Click="DeleteScanCacheButton_Click" x:Name="DeleteScanCacheButton"/>
                            </StackPanel>
                        </phone:PivotItem>

                    </phone:Pivot>

            </phone:PanoramaItem>

        </phone:Panorama>


        <StackPanel x:Name="ScanProgressPanel" Visibility="Collapsed"
            Background="#AA000000" VerticalAlignment="Bottom">

            <ProgressBar x:Name="ScanProgressBar" Height="6" Minimum="0" Maximum="100" Value="69"/>

            <TextBlock x:Name="ScanProgressText"
                Foreground="White"
                FontSize="20"
                Margin="0,8,0,0"/>

            <TextBlock x:Name="ScanCurrentFileText"
                Foreground="White"
                FontSize="16"
                Opacity="0.8"/>
        </StackPanel>

        <StackPanel x:Name="NetworkTestOverlay" Visibility="Collapsed"
            VerticalAlignment="Center"
            HorizontalAlignment="Stretch"
            Background="#DD002138">

            <TextBlock Text="testování připojení k serveru..."
                       Foreground="White"
                       FontSize="32"
                       TextWrapping="Wrap"
                       TextAlignment="Center"
                       HorizontalAlignment="Stretch"
                       Margin="0, 15, 0, 0" x:Name="NetworkTestTitleText"/>
            <TextBlock x:Name="NetworkTestResultText"
                       Foreground="White"
                       FontSize="20"
                       TextWrapping="Wrap"
                       TextAlignment="Left"
                       Margin="0,12,0,0"
                       HorizontalAlignment="Stretch"/>
            <Button x:Name="CloseTestOverlayButton"  Content="zavřít"
                    Width="160"
                    Margin="0,24,0,0"
                    Click="CloseNetworkTestOverlay_Click"/>
        </StackPanel>

    </Grid>
</phone:PhoneApplicationPage>
